
\section{Introduction}
%NOTE: General Background of MEC and Motivation
Edge computing is believed to be the solid solution for increasing computation-intensive and energy-hungry applications on mobile devices.
The edge servers are deployed in closer proximity to mobile devices than cloud infrastructure, which alleviates the communication overhead and enables {time-sensitive} and {deadline-aware} tasks offloading.
Large amount of mobile devices can connect to the access points (APs) which functions as gateway to aggregate and offload jobs to the edge servers \cite{MEC-SURVEY}.
However, the edge servers are always deployed with limited computation resources standalone, and the establish of efficient cooperation is indispensable among the distributed servers.

%NOTE: Motivation with MAN
We consider the edge computing network with APs and edge servers residing in the Metropolitan Area Network (MAN), where the edge servers could reach each others with unpredictable network latency\cite{MOBIHOC19-ZhouZ,tan-online,IOTJ18-FanQ}.
The APs shall collect jobs uploaded from the mobile users in its range and then make dispatching decisions for each job on the edge servers.
While the most of the existing literature consider the fixed or negligible communication latency in the edge computing network\cite{TOC19-LiuC,JSAC19-AlameddineHA,tan-online}, it's infeasible to have this assumption in the MAN \cite{MAN-LATENCY}.
This brings new challenges to the job dispatcher design in the edge computing network which relies on the observation of system status.
Firstly, the propagation latency of small control information may vary a lot due to congestion, and thus the centralized scheduler is discouraged without timely interaction with APs or edge servers.
Secondly, the stalesness of information is not negligible and the information exchange would cause misestimate for disaptching decision making.
Last but not the least, the fully-cooperation of decentralized agents requires sharing utility function according to \cite{IJCAI03-NairR} and the observed information from different dispatchers is not identical all the time.

%NOTE: Our contributions
In this paper, we focus on the decentralized cooperative dispatcher design at APs with stale information in the edge computing network.
% The computation jobs would be released from UEs and the dispatching decisions are determined distributed on each AP nodes as depicted in Fig.\ref{fig:system}.
The information sharing scheme is proposed in this article with periodic broadcast design.
With the help of MDP problem formulation, we could optimize the job dispatching decisions at APs with partially collected broadcast information under random communication latency.
Our contributions are summarized as follows.
\begin{itemize}
    \item To our best knowledge, this is the first work trying to address the fully-cooperative decentralized multi-agent optimization problem under standard MDP framework.
    We with adopt value function approximation to reduce the traditional algorithm complexity, and come up with performance guarantee performance bound.

    \item We consider the uploading time and processing time on AP and edge servers, respectively, both being stochastic.
    With the undetermined job arrival processes on edge servers under non-stationary dispatching decisions of APs, we are capable to evaluate the long-term queueing time under the dispatching decisions to be optimized.

    \item The iterative policy update algorithm is proposed with information staless-aware, and alleviates the impact of latency by leveraging the partially collected information in the system.
    Moreover, an innovative low-complexity solution is introduced to alleviate the curse of dimensionality in the conventional policy iteration algorithm.
\end{itemize}

The remainder of this paper is organized as follows.
In Sec.\ref{sec:review}, we review on the related works.
In Sec.\ref{sec:model}, we illustrate the system model and broadcast information sharing design.
In Sec.\ref{sec:formulation}, we formulate the global optimization problem of joint optimization on dispatching decisions of all APs.
In Sec.\ref{sec:algorithm}, we argue that the global joint optimization of all APs is impractical and then decouple the problem into optimization over individual APs.
We introduce a low-complexity algorithm in Sec.V and then show the numerical analysis in Sec.\ref{sec:evaluation}.
In Sec.\ref{sec:conclusion}, the conclusion is given.

\section{Related Works}
\label{sec:review}
%NOTE: resource placement (cache-like problem), service migration
The recent academic researches focus on the scheduling problem in edge computing system like job offloading, resource allocation, service migration and etc.
% Specifically, the joint optimization problem is often addressed into consideration to extend the scheduling dimensions.
The service migration problem is addressed that the submitted jobs could be migrated to the new edge servers according to users' mobility traces.
The authors in \cite{TON19-WangSq} formulate the migration problem considering single user's trace and solve it via MDP framework.
However, according to the recent research \cite{INFOCOM19-WuC}, the dynamic adjustment of resource allocation for running jobs on servers is hard to implement in practice.
Hence, it's more important to determine which edge server to dispatch the jobs at the arrival time.

%NOTE: single-agent dispatching, single UE/server
The resource allocation problem is always joint optimization together with job offload problem, including bandwidth resources, computation resources, and etc.
The authors in \cite{TOC17-DinhTQ} consider job dispatching only with single agent in the system.
Specifically, the authors consider jointly energy and latency optimization with one Mobile Device (MD) by offloading the tasks to multiple servers in \cite{TOC17-DinhTQ}
However, the solution to single-user problem could not be easily extended to multi-user.
When the disaptching decisions of multiple users/APs are considered, the information exchange scheme should be designed.

%NOTE: centralized multi-agent related works    
There are also some works considering multi-agent scheduling where the implementation of information exchange scheme matters.
In \cite{Fan2017}, the authors consider the cooperation of multiple MEC-BSs of computation offloading to other MEC-BSs. However, it doesn't consider the offloading utility impact on other MEC-BSs, i.e. only optimize for one BSs in the cluster.
% \cite{MOBIHOC19-LiuQ} is a work with centralized controller which determine the radio resources and computing resources for network slices on edge servers.
The information exchange is implement via query and the authors evaluate how the query interval affects the convergence of the algorithm.
In \cite{JSAC19-AlameddineHA}, the authors consider the task offloading, scheduling and resource allocation joint optimization with Benders Decomposition.
However the delay information in the system is known as fix constant, and the information exchange latency is ignored.
% \cite{ACCESS19-ZhengX} is a work considering maximizing the long-term utility in MEC offloading policy, and formulating the problem with MDP solved with Q-learning.
% However, it is applied with a centralized controller which is assumed without communication overhead the Q-learning method could not guarantee the performance before its convergence.

%NOTE: decentralized multi-agent related works
% mostly with centralized agent to apply action and seldom take delayed information impact into consideration.
Different from the previous referred works which merely consider the information exchange latency in the system, we focus on the impact of information staleness on decision making in distributed multi-agent cooperation.
As what we have learned, there are very limited discussions on this topic.
% The earliest works entangling with out-of-dated information we could find is \cite{ref-01} (cited 167 times). In this work, the single agent is assumed not able to observe the global state, and thus they need communication to establish cooperation by sharing limited information. The agent considers communication as extra action to synchronize the states and thus incurs extra cost (However, the communication is without delay, thus converted into POMDP problem; criticize with impractical);
One researcher group has published a series of paper on this topic \cite{JSAC17-LyuX,TWC18-LyuX}.
In \cite{JSAC17-LyuX}, the authors firstly consider applying optimization in IoT scenario based on \emph{partial out-of-date knowledge}.
However, the definition of partial knowledge is actually partiall observed at one time, and the whole information will be learned at last.
Due to the Lyapunov optimization method adopted, the solution is actually not related to the information exchange process but converges to a stationary solution.
% In \cite{TOC18-LyuX}, the authors optimize the task admission with partial observed information to assure the asymptotic optimality while the staleness is eliminated.
In \cite{TWC18-LyuX}, the authors consider the information exchange scenario in distributed optimization scenario, but only selfish devices considered.
The out-of-date information is thus blamed for optimality gap but proved to be asymptotically diminish with the proposed algorithm.
However, the staleness of information gap could not be eliminated in complex fully-cooperative scenario, where all the agents share the same utility function to optimize.

%----------------------------------------------------------------------------------------%
\delete{v11}{
    \cite{Naha2018} is a survey about fog computing in delay-aware computing in IoT, and investigate numerous proposed computing architecture.

    Service Placement Scenario:
    \begin{itemize}
        \item \cite{Rodrigues2017} is a work on minimizing service delay in mobile edge computing;
        \item \cite{Yang2016} is a work considering services placement and requests dispatching on edge servers, and leverage users' pattern to predict "service cache" for online decision making;
        \item \cite{Chen2018} is a work with SDN on task offloading and battery life saving, and solve the NLP problem with two sub-problems;
    \end{itemize}
    Using Game Theory:
    \begin{itemize}
        \item \cite{yang2018} and \cite{Josilo2019a} considers distributed computation offloading game;
        \item \cite{Liu2018} is a work considering minimize users' power consumption with Lyapunov optimization and matching theory;
        \item \cite{Dinh2018} considers distributed multi-user offloading in wireless channel with selfish EPG (exact potential game);
        \item \cite{Josilo2019} considers selfish offloading to achieve Nash equilibrium;
        \item \cite{Chen2016} is a work considering multi-user computation offloading with multi-channel contention, and adopt game theory approach to achieve Nash equilibrium with upper bound of convergence time;
        \item \cite{Zhang2018} considers multi-user offloading under transmit power decision and user association decision;
    \end{itemize}
    System Work:
    \begin{itemize}
        \item \cite{Yu2018} is a system work published in ToMC, presents a framework to minimize remote execution overhead, and carry out real system experiments using large-scale data from cellular network provider;
        \item \cite{Wang2018} is a system work published in IEEE Access, considers the mobility of mobile users in limited coverage solved with service migration and handover, and propose a framework;
    \end{itemize}
}