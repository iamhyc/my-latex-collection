
\section{Introduction}
%NOTE: General Background of MEC and Motivation
Edge computing is believed to be the solid solution for increasing computation-intensive and energy-hungry applications on mobile devices.
The edge servers are deployed in closer proximity to mobile devices than cloud infrastructure, which alleviates the communication overhead and enables {time-sensitive} and {deadline-aware} tasks offloading.
Large amount of mobile devices can connect to the access points (APs) which functions as gateway to aggregate and offload jobs to the edge servers \cite{MEC-SURVEY}.
However, the edge servers are always deployed with limited computation resources standalone, and the establish of efficient cooperation is indispensable among the distributed servers.

%NOTE: Motivation with MAN
We consider the edge computing network with APs and edge servers residing in the Metropolitan Area Network (MAN), where the edge servers could reach each others with unpredictable network latency\cite{MOBIHOC19-ZhouZ,tan-online,IOTJ18-FanQ}.
The APs shall collect jobs uploaded from the mobile users in its range and then make dispatching decisions for each job on the edge servers.
While the most of the existing literature consider the fixed or negligible communication latency in the edge computing network\cite{TOC19-LiuC,JSAC19-AlameddineHA,tan-online}, it's infeasible to have this assumption in the MAN \cite{MAN-LATENCY}.
This brings new challenges to the job dispatcher design in the edge computing network which relies on the observation of system status.
Firstly, the propagation latency of small control information may vary a lot due to congestion, and thus the centralized scheduler is discouraged without timely interaction with APs or edge servers.
Secondly, the stalesness of information is not negligible and the information exchange would cause misestimate for disaptching decision making.
Last but not the least, the fully-cooperation of decentralized agents requires sharing utility function according to \cite{IJCAI03-NairR} and the observed information from different dispatchers is not identical all the time.

%NOTE: Our contributions
In this paper, we focus on the decentralized cooperative dispatcher design at APs with stale information in the edge computing network.
% The computation jobs would be released from UEs and the dispatching decisions are determined distributed on each AP nodes as depicted in Fig.\ref{fig:system}.
The information sharing scheme is proposed in this article with periodic broadcast design.
With the help of MDP problem formulation, we could optimize the job dispatching decisions at APs with partially collected broadcast information under random communication latency.
Our contributions are summarized as follows.
\begin{itemize}
    \item To our best knowledge, this is the first work trying to address the fully-cooperative decentralized multi-agent optimization problem under standard MDP framework.
    We with adopt value function approximation to reduce the traditional algorithm complexity, and come up with performance guarantee performance bound.

    \item We consider the uploading time and processing time on AP and edge servers, respectively, both being stochastic.
    With the undetermined job arrival processes on edge servers under non-stationary dispatching decisions of APs, we are capable to evaluate the long-term queueing time under the dispatching decisions to be optimized.

    \item The iterative policy update algorithm is proposed with information staless-aware, and alleviates the impact of latency by leveraging the partially collected information in the system.
    Moreover, an innovative low-complexity solution is introduced to alleviate the curse of dimensionality in the conventional policy iteration algorithm.
\end{itemize}

The remainder of this paper is organized as follows.
In Sec.\ref{sec:review}, we review on the related works.
In Sec.\ref{sec:model}, we illustrate the system model and broadcast information sharing design.
In Sec.\ref{sec:formulation}, we formulate the global optimization problem of joint optimization on dispatching decisions of all APs.
In Sec.\ref{sec:algorithm}, we argue that the global joint optimization of all APs is impractical and then decouple the problem into optimization over individual APs.
We introduce a low-complexity algorithm in Sec.V and then show the numerical analysis in Sec.\ref{sec:evaluation}.
In Sec.\ref{sec:conclusion}, the conclusion is given.

\section{Related Works}
\label{sec:review}
%NOTE: resource placement (cache-like problem), service migration
The recent academic works of scheduling problem in edge computing system focus on the resource allocation, job dispatching, service migration and etc.
The service migration problem is addressed that the jobs submitted to the edge server could be further migrate to other edge servers if the QoS of the job could not be satisfied.
For example, the authors in \cite{TON19-WangSq} consider the edge server is one-to-one bind to the base station (BS), and the job migration could be applied according to users' mobility traces via the backhaul network connecting the base stations.
However, according to a recent research \cite{INFOCOM19-WuC}, the resource re-allocation for running jobs on servers is hard to implement in practice, and thus it's hard for jobs migration among heterogeneous edge servers with different resource configurations.
Hence, it's more important to determine the job dispatching strategy at the arrival time.

%NOTE: single-agent dispatching, single UE/server
% The resource allocation problem is always joint optimization together with job offload problem, including bandwidth resources, computation resources, and etc.
The job dispatching problem in the edge computing system often consists of the following components: mobile users (MU), access points (APs) and edge servers, where APs would collect the jobs offloaded from MUs in its coverage and offload them to the edge servers via the wired network.
We denote the role which makes job dispatching decisions as \emph{agent} in the remaining of the paper.
In \cite{tan-online}, the authors formulate the problem with $K$ heterogenous edge-cloud servers located in MAN and assume fixed deterministic offloading latency.
A heuristic algorithm is proposed to minimize the average job response time.
The authors in \cite{IOTJ18-FanQ} consider the setting where base stations (BSs) and edge servers connected via SDN in the cellular core network, and propose a heuristic algorithm to offload the jobs to the closest cloudlets firstly.
In \cite{MASS18-MengZ}, the authors formulate the offloading problem considering edge and cloud servers as integer linear programming with fixed deterministic offloading latency.
The above works all considered the optimization problem from jobs' perspective, and did not specify the \emph{agent} to apply the dispatching decisions by solving the problem.
However, in practice, it's important to specify whether the \emph{agent} is implemented in a centralized or decentralized form.

% Here, we only stress the problem happended between APs and edge servers which is connected via wired network.
% When the disaptching decisions of multiple users/APs are considered, the information exchange scheme should be designed.

%NOTE: centralized and decentralized multi-agent related works
There are some work considering a centralized agent is implemented to apply dispatching decisions for multiple APs.
In \cite{IOTJ19-CaoJ}, the authors
In \cite{Fan2017}, the authors consider the cooperation of multiple MEC-BSs of computation offloading to other MEC-BSs. However, it doesn't consider the offloading utility impact on other MEC-BSs, i.e. only optimize for one BSs in the cluster.
In \cite{JSAC19-AlameddineHA}, the authors consider the task offloading, scheduling and resource allocation joint optimization with Benders Decomposition.
However, in the above works, the delay information in the system is known as fix constant, and the information exchange latency is ignored.

There are also some works considering multi-agent scheduling where the implementation of information exchange scheme matters.
\fixit{
    In \cite{MASS18-MengZ},
    In \cite{TVT19-WangY},
    In \cite{CloudCom18-Cicconetti},
}

%NOTE: stale-information based multi-agent related works
Different from the previous referred works which merely consider the information exchange latency in the system, the staleness of exchanged information sharing among agents also have impacts on decision making in distributed system.
As what we have learned, there are very limited discussions on this topic.
% The earliest works entangling with out-of-dated information we could find is \cite{ref-01} (cited 167 times). In this work, the single agent is assumed not able to observe the global state, and thus they need communication to establish cooperation by sharing limited information. The agent considers communication as extra action to synchronize the states and thus incurs extra cost (However, the communication is without delay, thus converted into POMDP problem; criticize with impractical);
In \cite{JSAC17-LyuX}, the authors consider maximizing the number of admitted jobs where jobs offloading via base stations with stochastic offloading latency with general time-division multiple-access (TDMA) model assumption.W
The \emph{partial out-of-date knowledge} is introduced that the agents share the backlog information continuously in each time slot but some are missing in the transmission which is taken as \emph{out-of-date knowledge}.
The author leverage Lyapunov optimization to obtain a randomized fixed policy which could eliminate the staleness introduced, while the stability of the queues on edge servers is gauranteed. 
In \cite{TWC18-LyuX}, the authors move on considering selfish devices offloading jobs with stale information.
The problem is formulated to minimize the overall energy consumption while stabilizing the queues.
% The optimality loss due to the information staleness is proved bounded and can diminish to preseve the asymptotic optimality.
However, in the above two works, the queueing process on edge servers is not analyzed.
Due to the chosen objectives with only queue-stability guarantee, the upper bound of queue length could be very loose and could not guarantee the real-time performance of offloaded jobs.
Hence, in our problem, we target at optimizing the average job response time while analyzing the queueing process on edge servers under random uploading distribution and dispatching decisions to be optimized.

%NOTE: deleted references with wireless resource allocation
% In \cite{TOC18-LyuX}, the authors optimize the task admission with partial observed information to assure the asymptotic optimality while the staleness is eliminated.
% However, the staleness of information gap could not be eliminated in complex fully-cooperative scenario, where all the agents share the same utility function to optimize.
% The authors in \cite{TOC17-DinhTQ} consider job dispatching only with single MU in the system.
% Specifically, the authors consider jointly energy and latency optimization with one Mobile Device (MD) by offloading the tasks to multiple servers in \cite{TOC17-DinhTQ}
% \cite{MOBIHOC19-LiuQ} is a work with centralized controller which determine the radio resources and computing resources for network slices on edge servers.
% \cite{ACCESS19-ZhengX} is a work considering maximizing the long-term utility in MEC offloading policy, and formulating the problem with MDP solved with Q-learning.
% However, it is applied with a centralized controller which is assumed without communication overhead the Q-learning method could not guarantee the performance before its convergence.
% The information exchange is implement via query and the authors evaluate how the query interval affects the convergence of the algorithm.

%----------------------------------------------------------------------------------------%
\delete{v11}{
    \cite{Naha2018} is a survey about fog computing in delay-aware computing in IoT, and investigate numerous proposed computing architecture.

    Service Placement Scenario:
    \begin{itemize}
        \item \cite{Rodrigues2017} is a work on minimizing service delay in mobile edge computing;
        \item \cite{Yang2016} is a work considering services placement and requests dispatching on edge servers, and leverage users' pattern to predict "service cache" for online decision making;
        \item \cite{Chen2018} is a work with SDN on task offloading and battery life saving, and solve the NLP problem with two sub-problems;
    \end{itemize}
    Using Game Theory:
    \begin{itemize}
        \item \cite{yang2018} and \cite{Josilo2019a} considers distributed computation offloading game;
        \item \cite{Liu2018} is a work considering minimize users' power consumption with Lyapunov optimization and matching theory;
        \item \cite{Dinh2018} considers distributed multi-user offloading in wireless channel with selfish EPG (exact potential game);
        \item \cite{Josilo2019} considers selfish offloading to achieve Nash equilibrium;
        \item \cite{Chen2016} is a work considering multi-user computation offloading with multi-channel contention, and adopt game theory approach to achieve Nash equilibrium with upper bound of convergence time;
        \item \cite{Zhang2018} considers multi-user offloading under transmit power decision and user association decision;
    \end{itemize}
    System Work:
    \begin{itemize}
        \item \cite{Yu2018} is a system work published in ToMC, presents a framework to minimize remote execution overhead, and carry out real system experiments using large-scale data from cellular network provider;
        \item \cite{Wang2018} is a system work published in IEEE Access, considers the mobility of mobile users in limited coverage solved with service migration and handover, and propose a framework;
    \end{itemize}
}