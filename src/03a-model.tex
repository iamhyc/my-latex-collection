\section{System Model}
%----------------------------------------------------------------------------------------%
\subsection{Network Model}
We consider an edge computing system with $K$ Access Points (APs) and $M$ edge servers, which are connected in a network as illustrated in Fig.\ref{fig:system}.
The sets of APs and edge servers are denoted as $\apSet \define \set{1,\dots,K}$ and $\esSet \define \set{1,\dots,M}$, respectively.
Each AP collects the computation jobs from the mobile users within its coverage, and makes decision for each job on which edge server it should be dispatched to.
\accept{In this paper, we shall focus on the decentralized dispatcher design at each AP.}

\begin{figure}[ht]
    \centering
    \includegraphics[width=0.80\textwidth]{system-model.pdf}
    \caption{The Illustration of MEC System Model}
    \label{fig:system}
\end{figure}

%NOTE: [job space support and arrival process]
The time axis of each AP is organized by time slots.
Without loss of generality, it is assumed that there are $J$ types of computation jobs supported in this system, which is denoted as $\jSpace \define \set{1,\dots,J}$.
The job arrivals in each time slot are modelled as independent Bernoulli distributions.
More specifically, the arrivals of the $j$-th type of jobs at the $k$-th AP are independent and identically distributed (i.i.d.) Bernoulli random variables, and the arrival probability is denoted as $\lambda_{k,j}$ ($\forall k\in\apSet, j\in\jSpace$).


%NOTE: [uploading process]
Each AP then immediately dispatches each type of received jobs to one edge server.
Let $\omega_{k,j}$ denotes the index of edge server for the processing of the $j$-th types of jobs dispatched from the $k$-th AP ($\forall k\in\apSet, j\in\jSpace$).
Different types of jobs may have different distributions on the input data size.
Moreover, due to the random traffic in the network, the job uploading from one AP to one edge server consumes a random number of time slots.
It's assumed that the distributions of uploading delays are independent between any two uploading jobs.
Hence, we denote $\mathcal{U}_{k,m,j}$ as the uploading delay distribution for the $j$-th type of jobs from the $k$-th AP to the $m$-th edge server, which is ranged in $(0, \Xi]$ with the unit of time slot ($\forall k\in\apSet, m\in\esSet, j\in\jSpace$).
\delete{
    It's assumed that the distributions of uploading delays are independent between any two uploading jobs.
    Hence, we denote 
    the uploading delays are i.i.d for the $j$-th type of jobs from the $k$-th AP to the $m$-th edge server, which is denoted as $\mathcal{U}_{k,m,j}$ ranged in $(0,\Xi]$ with the unit of time slot ($\forall k\in\apSet, m\in\esSet, j\in\jSpace$).
}
In practice, the distribution of uploading delay may not be known to the APs or edge servers in advance.

%NOTE: [processing process]
There are $J$ virtual machines (VMs) on one edge server for the computation of $J$ types of jobs.
For each type, the uploaded jobs are computed in a First-Come-First-Serve (FCFS) manner.
Furthermore, we adopt \emph{unrelated machines} assumption in \cite{tan-online} for job processing on edge servers.
The job processing time on different servers are random and machine dependent, which implies that different types of jobs on different edge servers have different processing time distributions.
We denote $\mathcal{C}_{m,j}$ as the processing time distribution of the $j$-th type job on the $m$-th edge serer, whose range is in $(0, c_{m,j}]$ with the unit of time slot ($\forall m\in\esSet, j\in\jSpace$).
The maximum job queue length for each VM is set as $l_Q$, which indicates that there are at most $l_Q$ jobs pending for one VM on the edge servers.
\accept{The jobs submission over the limits would be discarded.}

\delete{We highlight the life cycle of the job being processed.}
%----------------------------------------------------------------------------------------%

\subsection{Periodic Broadcast of State Information}
%NOTE: Periodic Broadcast is Indispensable
In our system, each AP dispatches different types of computation jobs in a cooperative manner, where the jobs are dispatched to achieve a global optimality.
To make such dispatching decision, each AP should collect the state information from other APs and edge servers.
It is assumed that each AP and edge server broadcast their state information every $t_B$ time slots as illustrated in Fig.\ref{fig:brd-timeline}.
More specifically, for $i$-th broadcast ($i=1,2,\dots$), the $k$-th AP would receive $k'$-th AP after some delay $D^{\dagger}_{k,k'}(i)$ due to the random network traffic, and $D^{\ddagger}_{k,m}(i)$ for the information broadcast by $m$-th edge server ($\forall k \neq k'\in\apSet, m\in\esSet$).
\begin{figure}[ht]
    \centering
    \includegraphics[width=0.80\textwidth]{brd-timeline.pdf}
    \caption{The Timeline Illustration of State Information Broadcast and Receiving}
    \label{fig:brd-timeline}
\end{figure}

%NOTE: The broadcast information denotations
We firstly define the following denotations on the state information for APs and edge servers.
One AP shall maintain state about the number of jobs still in uploading. 
And due to the uploading time of one job is unknown until it's been uploaded, it further have counters to record the uploading time for each job.
Denote $R^{(k)}_{m,j,\xi}$ as the number of the $j$-th type job been uploaded to the $m$-th edge server $\xi$ time slots ago from $k$-th AP ($\forall k\in\apSet, m\in\esSet, j\in\jSpace, \xi\in(0,\Xi]$).
%
One edge server ($\forall m\in\apSet$) shall maintain state about the queue for each VM.
Denote $Q_{m,j} \define (L_{m,j}, \eta_{m,j})$ , where $L_{m,j}$ denotes the number of jobs in waiting and $\eta_{m,j}$ denotes the remaining time slots of the first job in processing ($\forall m\in\esSet, j\in\jSpace$). 
% \begin{itemize}
%     \item the number of jobs in uploading;
%         $R^{(k)}_{m,j,\xi}$ denotes the number of the $j$-th type of jobs been uploaded to the $m$-th edge servers $\xi$ time slots ago.
%     \item the queueing state description for the $j$-th type jobs on the $m$-th edge server: $Q_{m,j} \define (L_{m,j}, \eta_{m,j})$, where:
%     \begin{itemize}
%         \item $L_{m,j}$ denotes the number of jobs in waiting;
%         \item $\eta_{m,j}$ denotes the remaining time slots of the first job in processing;
%     \end{itemize}
% \end{itemize}

%NOTE: [State for AP and Edge Server]
The state information of one AP (say the $k$-th AP, $\forall k\in\apSet$) at the $i$-th broadcast is defined as follows.
\begin{align}
    \mathcal{R}_{k}(i) \define \set{R^{(k)}_{m,j,\xi}(i) | \forall m\in\esSet, j\in\jSpace, \xi \in [0,\Xi]}
\end{align}
Moreover, the state information of one edge server (say the $m$-th edge server, $\forall m\in\esSet$) at the $t$-th broadcast is defined as follows.
\begin{align}
    \mathcal{Q}_{m}(i) \define \set{Q_{m,j}(i) | \forall m\in\esSet, j\in\jSpace}
\end{align}
Thus the composed broadcasting information at the $i$-th broadcast is denoted as:
\begin{align}
    \Obsv(i) \define
        \Brace{
            \mathcal{R}_{k}(i), \mathcal{Q}_{m}(i) | \forall k\in\apSet, m\in\esSet
        }.
\end{align}

%NOTE: Receiving points definition, denotation and unpredictable
Different AP nodes would receive the whole broadcast information at different time slot.
We call the delay when AP receives the whole information as \brdelay.
Denote $D_{i,k}$ as the the \brdelay in the $i$-th broadcast interval for the $k$-th AP ($\forall k\in\apSet$), which is defined as follows.
\begin{align}
    D_{i,k} \define \max\Paren{\Brace{
        D^{\dagger}_{k,k'}(i),
        D^{\dagger}_{k,m}(i) | \forall k \neq k' \in \apSet, m\in\esSet
    }}
\end{align}
Moreover, we assume that the broadcast interval is selected with a value that always larger than the maximum \brdelay, i.e. $t_B > \{\hat{D}_k|\forall k\in\apSet\}$ ($\forall k\in\apSet$), where $\hat{D}_k$ is the upper bound for $D_{i,k}$ ($i=1,2,\dots$).

Due to the randomness of broadcast delay, the \brdelay $D_{i,k}$ for the $k$-th AP in the $i$-th interval is also un-predictable and the other AP could not know when $k$-th AP could update with the latest broadcast.
\fixit{
    This implies that one AP could not know when exactly other APs update their global state information, and the APs could not come to a consensus on the state information until the end of the interval.
    In the worst case, the APs would always update their dispatching decision only at the end of the interval.
}
In the problem formulation section, we will show that we could come up with better dispatching decision by awareness of the \brdelay, and improve APs' dispatching decisions in an iterative way.
Furthermore, with the help of algorithm design we could prove that our improved policy is with analytical performance bound under MDP framework.

\delete{
    We further adopt the following time denotation.
    \begin{align}
        t_{i,n} = i \cdot T + n \cdot \tau, (i,n=0,1,2,\dots),
    \end{align}
    where $t_{i,n}$ denotes the $n$-th time slot in $i$-th interval w.r.t the start point. Especially, we denote as $t_{i} \define t_{i,0}$ as the start point of each broadcasting interval, which is called \emph{broadcast point}.
}

\delete{
    Due to the introduced periodic broadcasting design and the information receiving delay, this kind of system is inherent of the structure that decisions are always made with obsolete and partial information.
    This implies that: if any agents change its decision with respect to newly-arrival broadcast information, it will disturb other agents' decisions from cooperation due to different information of system states.
    Thus, it's unacceptable to update agents' policy only when the agents all come up with exactly same information.
}
%----------------------------------------------------------------------------------------%