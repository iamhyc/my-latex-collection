
M1 = [5, 4, 2, 3, 1]

M2 = [
    [5, 2, 3, 4, 1],
    [4, 2, 5, 1, 3],
    [1, 3, 2 ,4, 5],
    [3, 1, 2, 4, 5],
    [2, 5, 3, 4, 1]
]

M3 = [[0,0,0,0,0] for i in range(5)]

for k in range(5):
    for p in range(5):
        f2 = M2[M1[k]-1][p] -1
        M3[f2][k] = p+1

print(M3)

# k=1          ===> f_1(k)=5
# f_1(k)=5,p=1 ===> f_2(f_1,p)= 2
#                   f_3[f2, k] = p